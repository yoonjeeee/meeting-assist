// Firebase SDK ê°€ì ¸ì˜¤ê¸° (ë²„ì „ 10 ê¸°ì¤€)
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.3/firebase-app.js";
import {
  getFirestore, collection, addDoc, serverTimestamp
} from "https://www.gstatic.com/firebasejs/10.12.3/firebase-firestore.js";

// ğŸ”§ ì—¬ê¸°! ë³¸ì¸ Firebase ì½˜ì†”ì—ì„œ ë³µì‚¬í•œ ì„¤ì • ë¶™ì—¬ë„£ê¸°
const firebaseConfig = {
  // apiKey: "AIzaSyCpTt5E2JYjsvjjFEh_QG0YVElFgYJ0jX8",
  // authDomain: "meeting-assit-site.firebaseapp.com",
  // projectId: "meeting-assit-site",
  // storageBucket: "meeting-assit-site.firebasestorage.app",
  // messagingSenderId: "289914417857",
  // appId: "1:289914417857:web:7abefc88883b29eafeda40",
  // measurementId: "G-PE7WSSQ5EX"
};

// Firebase ì´ˆê¸°í™”
const app = initializeApp(firebaseConfig);
const db = getFirestore(app);

// í¼ ìš”ì†Œ ê°€ì ¸ì˜¤ê¸°
const form = document.getElementById("createForm");
const result = document.getElementById("result");

// ì €ì¥ ë²„íŠ¼ ëˆ„ë¥´ë©´ ì‹¤í–‰
form.addEventListener("submit", async (e) => {
  e.preventDefault();

 const firebaseConfig = {
  apiKey: "AIzaSyCpTt5E2JYjsvjjFEh_QG0YVElFgYJ0jX8",
  authDomain: "meeting-assit-site.firebaseapp.com",
  projectId: "meeting-assit-site",
  storageBucket: "meeting-assit-site.firebasestorage.app",
  messagingSenderId: "289914417857",
  appId: "1:289914417857:web:7abefc88883b29eafeda40",
  measurementId: "G-PE7WSSQ5EX"
};

  if (!data.title || !data.purpose || !data.timeLimit) {
    result.textContent = "âš ï¸ ì œëª©, ëª©ì , ì‹œê°„ì œí•œì€ ê¼­ ì…ë ¥í•´ì•¼ í•´ìš”!";
    return;
  }

  try {
    const docRef = await addDoc(collection(db, "meetings"), data);
    result.innerHTML = `âœ… ì €ì¥ ì™„ë£Œ! ë¬¸ì„œ ID: <code>${docRef.id}</code>`;
    form.reset();
  } catch (error) {
    console.error(error);
    result.textContent = "âŒ ì €ì¥ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆì–´ìš”.";
  }
});
